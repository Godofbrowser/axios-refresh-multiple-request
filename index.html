<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Axios multiple auth interceptor demo</title>
    <style>
        dd { 
            display: block;
            margin-left: 40px;
        }
    </style>
</head>
<body>
    <h1 style="font-size: 18px;">Axios Multiple request authorization with refresh token</h1>
    <dl>
        <dt>Name:</dt>
        <dd class="name--binder">fetching profile...</dd>
        <dt>Likes:</dt>
        <dd class="likes--binder">fetching likes...</dd>
    </dl>

    <script src="/src/script.js"></script>
    <script>
        const userId = 2;
        window.api.users.getProfile(userId).then(resp => {
            document.querySelector('.name--binder').innerHTML = resp.data.name
        })
        window.api.users.getLikes(userId).then(resp => {
            const text = resp.data.map(row => row.content).join(', ')
            document.querySelector('.likes--binder').innerHTML = text
        })
    </script>
</body>
</html>
